{"ast":null,"code":"var _jsxFileName = \"/Users/lesliesage/Development/Projects/mappy-quizzes/map-quiz-frontend/src/components/Map.js\";\nimport React from \"react\";\nimport { withScriptjs, withGoogleMap, GoogleMap, Marker } from \"react-google-maps\";\nimport MapOptions from \"../MapOptions.json\"; // reminders for resources we can use to calculate distance between the click and city coordinates\n// let arr = [\n//   { lat: 48.8667, lng: 2.3333 },\n//   { lat: 55.7522, lng: 37.6155 },\n//   { lat: -22.925, lng: -43.225 }\n// ];\n// google.maps.geometry.spherical.computeDistanceBetween(LatLng1, myLatLng)\n// const createMarker = () =>\n//   new window.google.maps.Marker({\n//     position: { lat: 43.642567, lng: -79.387054 },\n//     map: this.googleMap\n//   });\n// {myLatLng = new google.maps.LatLng({lat: -34, lng: 151})}\n\nlet handleClick = (e, props) => {\n  if (props.unresponsive === false) {\n    props.toggleMarker();\n    let latLng = e.latLng;\n    props.setChoice(latLng);\n    let mylatlng = new window.google.maps.LatLng({\n      lat: props.currentCity.lat,\n      lng: props.currentCity.long\n    });\n    let distance = window.google.maps.geometry.spherical.computeDistanceBetween(latLng, mylatlng) / 1000;\n    console.log(distance);\n    let minus = distance / 10;\n\n    if (props.currentScore - minus >= 0) {\n      props.setScore(minus);\n      props.toggleNextButton();\n      let formattedQuestion = {\n        distance: distance,\n        city_id: props.currentCity.id\n      };\n      props.addQuestion(formattedQuestion);\n      props.setDistance(\"You were \".concat(parseInt(distance), \" km away. (-\").concat(parseInt(minus), \" points)\"));\n      props.makeUnresp();\n\n      if (props.cityIndex >= 19) {\n        props.createGame();\n        props.showScoreModal();\n      }\n    } else {\n      props.showModal();\n      props.makeUnresp();\n    }\n  }\n};\n\nlet formatlatlng = currentCity => {\n  return {\n    lat: currentCity.lat,\n    lng: currentCity.long\n  };\n};\n\nconst Map = withScriptjs(withGoogleMap(props => React.createElement(React.Fragment, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 71\n  },\n  __self: this\n}, React.createElement(GoogleMap, {\n  defaultZoom: 2.3,\n  defaultCenter: {\n    lat: 25,\n    lng: 0\n  },\n  defaultOptions: {\n    styles: MapOptions,\n    maxZoom: 7,\n    minZoom: 2.3,\n    gestureHandling: \"greedy\",\n    draggableCursor: \"crosshair\"\n  },\n  onClick: e => handleClick(e, props),\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 73\n  },\n  __self: this\n}, props.isMarkerShown && props.currentCity ? React.createElement(Marker, {\n  icon: {\n    url: \"https://www.google.com/mapfiles/arrow.png\"\n  },\n  position: formatlatlng(props.currentCity),\n  animation: window.google.maps.Animation.DROP,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 87\n  },\n  __self: this\n}) : null, props.yourChoice ? React.createElement(Marker, {\n  icon: {\n    url: \"http://maps.google.com/mapfiles/ms/icons/blue-dot.png\"\n  },\n  position: props.yourChoice,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 95\n  },\n  __self: this\n}) : null))));\nexport default Map;","map":{"version":3,"sources":["/Users/lesliesage/Development/Projects/mappy-quizzes/map-quiz-frontend/src/components/Map.js"],"names":["React","withScriptjs","withGoogleMap","GoogleMap","Marker","MapOptions","handleClick","e","props","unresponsive","toggleMarker","latLng","setChoice","mylatlng","window","google","maps","LatLng","lat","currentCity","lng","long","distance","geometry","spherical","computeDistanceBetween","console","log","minus","currentScore","setScore","toggleNextButton","formattedQuestion","city_id","id","addQuestion","setDistance","parseInt","makeUnresp","cityIndex","createGame","showScoreModal","showModal","formatlatlng","Map","styles","maxZoom","minZoom","gestureHandling","draggableCursor","isMarkerShown","url","Animation","DROP","yourChoice"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {\n  withScriptjs,\n  withGoogleMap,\n  GoogleMap,\n  Marker\n} from \"react-google-maps\";\nimport MapOptions from \"../MapOptions.json\";\n\n// reminders for resources we can use to calculate distance between the click and city coordinates\n// let arr = [\n//   { lat: 48.8667, lng: 2.3333 },\n//   { lat: 55.7522, lng: 37.6155 },\n//   { lat: -22.925, lng: -43.225 }\n// ];\n\n// google.maps.geometry.spherical.computeDistanceBetween(LatLng1, myLatLng)\n\n// const createMarker = () =>\n//   new window.google.maps.Marker({\n//     position: { lat: 43.642567, lng: -79.387054 },\n//     map: this.googleMap\n//   });\n\n// {myLatLng = new google.maps.LatLng({lat: -34, lng: 151})}\nlet handleClick = (e, props) => {\n  \nif (props.unresponsive === false){\n  props.toggleMarker();\n  let latLng = e.latLng;\n  props.setChoice(latLng);\n  let mylatlng = new window.google.maps.LatLng({\n    lat: props.currentCity.lat,\n    lng: props.currentCity.long\n  });\n  let distance =\n    window.google.maps.geometry.spherical.computeDistanceBetween(\n      latLng,\n      mylatlng\n    ) / 1000;\n  console.log(distance);\n  let minus = distance/10\n  if (props.currentScore - minus >= 0) {\n    props.setScore(minus);\n    props.toggleNextButton();\n    let formattedQuestion = {\n      distance: distance,\n      city_id: props.currentCity.id\n    };\n    props.addQuestion(formattedQuestion);\n    props.setDistance(`You were ${parseInt(distance)} km away. (-${parseInt(minus)} points)`)\n    props.makeUnresp()\n\n    if (props.cityIndex >= 19) {\n      props.createGame();\n      props.showScoreModal();\n    }\n  } else {\n    props.showModal();\n    props.makeUnresp()\n  }\n}\n};\n\nlet formatlatlng = currentCity => {\n  return { lat: currentCity.lat, lng: currentCity.long };\n};\n\nconst Map = withScriptjs(\n  withGoogleMap(props => (\n    <React.Fragment>\n      {/* {console.log(props)} */}\n      <GoogleMap\n        defaultZoom={2.3}\n        defaultCenter={{ lat: 25, lng: 0 }}\n        defaultOptions={{\n          styles: MapOptions,\n          maxZoom: 7,\n          minZoom: 2.3,\n          gestureHandling: \"greedy\",\n          draggableCursor: \"crosshair\"\n        }}\n        onClick={e => handleClick(e, props)}\n        \n      >\n        {props.isMarkerShown && props.currentCity ? (\n          <Marker\n            icon={{\n              url: \"https://www.google.com/mapfiles/arrow.png\"\n            }}\n            position={formatlatlng(props.currentCity)} animation={window.google.maps.Animation.DROP}\n          />\n        ) : null}\n        {props.yourChoice ? (\n          <Marker\n            icon={{\n              url: \"http://maps.google.com/mapfiles/ms/icons/blue-dot.png\"\n            }}\n            position={props.yourChoice}\n          />\n        ) : null}\n      </GoogleMap>\n    </React.Fragment>\n  ))\n);\n\nexport default Map;\n"]},"metadata":{},"sourceType":"module"}