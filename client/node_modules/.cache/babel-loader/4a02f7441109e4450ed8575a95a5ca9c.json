{"ast":null,"code":"var _jsxFileName = \"/Users/lesliesage/Development/Projects/map-quiz/public/src/containers/FormContainer.js\";\nimport React from \"react\";\nimport { Button, Header, Modal } from \"semantic-ui-react\";\nimport { Redirect } from \"react-router-dom\";\nimport RegisterModal from \"../components/RegisterModal.js\";\n\nclass FormContainer extends React.Component {\n  constructor() {\n    super();\n\n    this.loginChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.setRedirect = () => {\n      this.setState({\n        redirect: true\n      });\n    };\n\n    this.handleSubmitFindUser = () => {\n      let obj = {\n        headers: {\n          \"Authentication\": this.state.password\n        }\n      };\n      fetch(\"http://localhost:3000/users/\".concat(this.state.username), obj).then(resp => resp.json()).then(data => {\n        console.log(data);\n\n        if (data.authenticated) {\n          localStorage.setItem(\"token\", data.token);\n          this.props.setUser(data.user);\n          this.props.closeForm();\n          this.setRedirect();\n        } else {\n          alert(\"incorrect username or password\");\n        }\n      });\n    };\n\n    this.handleSubmitNewUser = () => {\n      const newUserDataFromForm = {\n        user: {\n          username: this.state.username,\n          password: this.state.password\n        }\n      };\n      console.log(newUserDataFromForm);\n      const contentObj = {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(newUserDataFromForm)\n      };\n      fetch(\"http://localhost:3000/users\", contentObj).then(resp => resp.json()).then(data => {\n        if (data) {\n          this.props.setUser(data.user);\n          this.props.closeForm();\n          this.setRedirect();\n        } else {\n          alert(\"passwords don't match\");\n        }\n      });\n    };\n\n    this.state = {\n      username: \"\",\n      password: \"\",\n      redirect: false\n    };\n  }\n\n  render() {\n    return this.state.redirect ? React.createElement(Redirect, {\n      to: \"/play\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }) : React.createElement(Modal, {\n      id: \"login-modal\",\n      open: this.props.hid,\n      centered: false,\n      onClose: this.props.toggleform,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(Header, {\n      icon: \"loading asterisk\",\n      content: \"Login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), React.createElement(Modal.Content, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"ui form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"Username\"), React.createElement(\"input\", {\n      onChange: this.loginChange,\n      type: \"text\",\n      name: \"username\",\n      placeholder: \"Username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Password\"), React.createElement(\"input\", {\n      onChange: this.loginChange,\n      name: \"password\",\n      type: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"ui submit button\",\n      onClick: this.handleSubmitFindUser,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Play\"))), React.createElement(Modal.Actions, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(Button, {\n      color: \"red\",\n      onClick: this.props.toggleForm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"Close\"), React.createElement(RegisterModal, {\n      loginChange: this.loginChange,\n      setRedirect: this.setRedirect,\n      handleSubmitNewUser: this.handleSubmitNewUser,\n      username: this.state.username,\n      password: this.state.password,\n      redirect: this.state.redirect,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default FormContainer;","map":{"version":3,"sources":["/Users/lesliesage/Development/Projects/map-quiz/public/src/containers/FormContainer.js"],"names":["React","Button","Header","Modal","Redirect","RegisterModal","FormContainer","Component","constructor","loginChange","e","setState","target","name","value","setRedirect","redirect","handleSubmitFindUser","obj","headers","state","password","fetch","username","then","resp","json","data","console","log","authenticated","localStorage","setItem","token","props","setUser","user","closeForm","alert","handleSubmitNewUser","newUserDataFromForm","contentObj","method","body","JSON","stringify","render","hid","toggleform","toggleForm"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Button, Header, Modal } from \"semantic-ui-react\";\nimport { Redirect } from \"react-router-dom\";\nimport RegisterModal from \"../components/RegisterModal.js\";\n\nclass FormContainer extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      username: \"\",\n      password: \"\",\n      redirect: false\n    };\n  }\n\n  loginChange = e => {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  };\n\n  setRedirect = () => {\n    this.setState({\n      redirect: true\n    });\n  };\n\n  handleSubmitFindUser = () => {\n    let obj = {headers: {\"Authentication\": this.state.password}}\n    fetch(`http://localhost:3000/users/${this.state.username}`, obj)\n      .then(resp => resp.json())\n      .then(data => {\n        console.log(data)\n        if (data.authenticated) {\n          localStorage.setItem(\"token\", data.token)\n          this.props.setUser(data.user);\n          this.props.closeForm();\n          this.setRedirect();\n        } else {\n          alert(\"incorrect username or password\");\n        }\n      });\n  };\n\n  handleSubmitNewUser = () => {\n    const newUserDataFromForm = { user: {\n      username: this.state.username,\n      password: this.state.password\n    }\n    };\n    console.log(newUserDataFromForm);\n    const contentObj = {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(newUserDataFromForm)\n    };\n    fetch(`http://localhost:3000/users`, contentObj)\n      .then(resp => resp.json())\n      .then(data => {\n        if (data) {\n          this.props.setUser(data.user);\n          this.props.closeForm();\n          this.setRedirect();\n        } else {\n          alert(\"passwords don't match\");\n        }\n      });\n  };\n\n  render() {\n    return this.state.redirect ? (\n      <Redirect to=\"/play\" />\n    ) : (\n      <Modal\n        id=\"login-modal\"\n        open={this.props.hid}\n        centered={false}\n        onClose={this.props.toggleform}\n      >\n        <Header icon='loading asterisk' content=\"Login\" />\n        <Modal.Content>\n          <div className=\"ui form\">\n            <div className=\"field\">\n              <label>Username</label>\n              <input\n                onChange={this.loginChange}\n                type=\"text\"\n                name=\"username\"\n                placeholder=\"Username\"\n              ></input>\n            </div>\n            <div className=\"field\">\n              <label>Password</label>\n              <input\n                onChange={this.loginChange}\n                name=\"password\"\n                type=\"password\"\n              ></input>\n            </div>\n\n            <div\n              className=\"ui submit button\"\n              onClick={this.handleSubmitFindUser}\n            >\n              Play\n            </div>\n          </div>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button color=\"red\" onClick={this.props.toggleForm}>\n            Close\n          </Button>\n          <RegisterModal\n            loginChange={this.loginChange}\n            setRedirect={this.setRedirect}\n            handleSubmitNewUser={this.handleSubmitNewUser}\n            username={this.state.username}\n            password={this.state.password}\n            redirect={this.state.redirect}\n          />\n        </Modal.Actions>\n      </Modal>\n    );\n  }\n}\n\nexport default FormContainer;\n"]},"metadata":{},"sourceType":"module"}